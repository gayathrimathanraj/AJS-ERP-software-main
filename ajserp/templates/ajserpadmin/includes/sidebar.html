{% load static %}

<!-- Sidebar -->
<div class="sidebar" data-background-color="dark">
<div class="sidebar-logo">
<!-- Logo Header -->
<div class="logo-header" data-background-color="dark">
<a href="dashboard.html" class="logo">
<img src="{% static 'assets/img/kaiadmin/erplogo.jpg' %}" alt="navbar brand" class="navbar-brand" height="70"/>
</a>
<div class="nav-toggle">
<button class="btn btn-toggle toggle-sidebar">
<i class="gg-menu-right"></i>
</button>
<button class="btn btn-toggle sidenav-toggler">
<i class="gg-menu-left"></i>
</button>
</div>
<button class="topbar-toggler more">
<i class="gg-more-vertical-alt"></i>
</button>
</div>
<!-- End Logo Header -->
</div>
<div class="sidebar-wrapper scrollbar scrollbar-inner">
<div class="sidebar-content">
{% comment %} <ul class="nav nav-secondary">
<li class="nav-item {% if page_title == 'dashboard' %}active{% endif %}">
<a href="{% url 'ajserp:dashboard' %}" class="collapsed" aria-expanded="false">
<i class="fas fa-home"></i>
<p>Dashboard</p>
</a>
</li>
<li class="nav-item {% if page_title == 'manage_users' %}active{% endif %}">
  <a href="{% url 'ajserp:manage_users' %}" class="collapsed" aria-expanded="false">
    <i class="fas fa-users-cog"></i>
    <p>Manage Users</p>
  </a>
</li>

 
<!-- Sales Dashboard -->
<li class="nav-item {% if page_title == 'sales_dashboard' %}active{% endif %}">
  <a href="{% url 'ajserp:salesdashboard' %}" class="collapsed" aria-expanded="false">
    <i class="fas fa-chart-line"></i>  <!-- icon for sales -->
    <p>Sales Dashboard</p>
  </a>
</li>

<li class="nav-section">
<span class="sidebar-mini-icon">
<i class="fa fa-ellipsis-h"></i>
</span>
<h4 class="text-section">Company</h4>
</li>
<li class="nav-item {% if page_title == 'inventory' %}active{% endif %}">
<a data-bs-toggle="collapse" href="#base">
<i class="fas fa-layer-group"></i>
<p>Inventory</p>
<span class="caret"></span>
</a>
<div class="collapse" id="base">
<ul class="nav nav-collapse">
<li>
  <a href="{% url 'ajserp:material'%}">
    <span class="sub-item">Material</span>
  </a>
</li>
<li>
  <a href="{% url 'ajserp:materialinward'%}">
    <span class="sub-item">Materialinward</span>
  </a>
</li>
<li>
  <a href="{% url 'ajserp:warehouse'%}">
    <span class="sub-item">Warehouses</span>
  </a>
</li>
<li>
  <a href="{% url 'ajserp:addpricelists'%}">
    <span class="sub-item">Price List</span>
  </a>
</li>
</ul>
</div>
</li>
<li class="nav-item">
<a data-bs-toggle="collapse" href="#sidebarLayouts">
<i class="fas fa-user-friends"></i>
<p>Parties</p>
<span class="caret"></span>
</a>
<div class="collapse" id="sidebarLayouts">
<ul class="nav nav-collapse">
<li>
    <a href="{% url 'ajserp:customers'%}">
    <span class="sub-item">Customers</span>
  </a>
</li>
<li>
  <a href="{% url 'ajserp:supliers'%}">
    <span class="sub-item">Suppliers</span>
  </a>
</li>
<li>
  <a href="icon-menu.html">
    <span class="sub-item">Visited</span>
  </a>
</li>
<li>
    <a href="{% url 'ajserp:addgroups'%}">
    <span class="sub-item">Groups</span>
  </a>
</li>
</ul>
</div>
</li>
<li class="nav-item">
<a data-bs-toggle="collapse" href="#forms">
<i class="far fa-credit-card"></i>
<p>Sales</p>
<span class="caret"></span>
</a>
<div class="collapse" id="forms">
<ul class="nav nav-collapse">
<li>
    <a href="{% url 'ajserp:estimate'%}">
    <span class="sub-item">Estimates</span>
  </a>
</li>
<li>
  <a href="{% url 'ajserp:salesorders'%}">
    <span class="sub-item">Sales Orders</span>
  </a>
</li>
<li>
  <a href="{% url 'ajserp:salesinvoice'%}">
    <span class="sub-item">Sales Invoices</span>
  </a>
</li>
<li>
  <a href="{% url 'ajserp:deliverychallans'%}">
    <span class="sub-item">Delivery Challans</span>
  </a>
</li>
<li>
    <a href="{% url 'ajserp:salesreturn'%}">
    <span class="sub-item">Sales Return</span>
  </a>
</li>
<li>
    <a href="{% url 'ajserp:creditnote'%}">
    <span class="sub-item">Credit Note</span>
  </a>
</li>
</ul>
</div>
</li>
<li class="nav-item">
<a data-bs-toggle="collapse" href="#tables">
<i class="fas fa-shopping-cart"></i>
<p>Purchase</p>
<span class="caret"></span>
</a>
<div class="collapse" id="tables">
<ul class="nav nav-collapse">
<li>
  <a href="{% url 'ajserp:purchaseorder'%}">
    <span class="sub-item">Purchase Orders</span>
  </a>
</li>

<li>
    <a href="{% url 'ajserp:purchasereturn'%}">
    <span class="sub-item">Purchase Return</span>
  </a>
</li>
</ul>
</div>
</li>
<li class="nav-item">
<a data-bs-toggle="collapse" href="#maps">
<i class="fas fa-wallet"></i>
<p>Finance</p>
<span class="caret"></span>
</a>
<div class="collapse" id="maps">
<ul class="nav nav-collapse">
<li>
  <a href="{% url 'ajserp:expenses'%}">
    <span class="sub-item">Expenses</span>
  </a>
</li>
<li>
  <a href="{% url 'ajserp:receipts'%}">
    <span class="sub-item">Receipts</span>
  </a>
</li>
  <li>
    <a href="{% url 'ajserp:paymentout'%}">
      <span class="sub-item">Paymentout</span>
    </a>
  </li>
  <li>
    <a href="{% url 'ajserp:vendorinvoice'%}">
      <span class="sub-item">Vendorinvoice</span>
    </a>
  </li>
</ul>
</div>
</li>
<li class="nav-item">
<a data-bs-toggle="collapse" href="#claim">
<i class="fas fa-layer-group"></i>
<p>Claims</p>
<span class="caret"></span>
</a>
<div class="collapse" id="claim">
<ul class="nav nav-collapse">
<li>
  <a href="{% url 'ajserp:claimrequest'%}">
    <span class="sub-item">Claim Request</span>
  </a>
</li>
<li>
  <a href="{% url 'ajserp:claimapproval'%}">
  <span class="sub-item">Claim Approval</span>
  </a>
</li>
</ul>
</div>
</li>
<li class="nav-item">
<a data-bs-toggle="collapse" href="#taxmaster">
<i class="fas fa-layer-group"></i>
<p>Tax Master</p>
<span class="caret"></span>
</a>
<div class="collapse" id="taxmaster">
<ul class="nav nav-collapse">
<li>
  <a href="{% url 'ajserp:taxmaster'%}">
    <span class="sub-item">Tax Masters</span>
  </a>
</li>
</ul>
</div>
</li>
<li class="nav-item">
<a data-bs-toggle="collapse" href="#charts">
<i class="fas fa-user-check"></i>
<p>Attendance</p>
</a>
</li>
<li class="nav-item">
<a href="{% url 'ajserp:employee'%}">
<i class="fas fa-user-plus"></i>
<p>Employee</p>

</a>
</li> 
<li class="nav-item">
<a href="{% url 'ajserp:report'%}">
<i class="fas fa-file"></i>
<p>Report</p>
</a>
</li>
<li class="nav-item">
<a data-bs-toggle="collapse" href="#submenu">
<i class="fas fa-cog"></i>
<p>Settings</p>
<span class="caret"></span>
</a> 
<div class="collapse" id="submenu">
<ul class="nav nav-collapse">
<li> 
  <a data-bs-toggle="collapse" href="#subnav1">
    <span class="sub-item">Company Details</span>
  </a>
</li>
<li>
  <a data-bs-toggle="collapse" href="#subnav2">
    <span class="sub-item">Mobile App</span>
  </a>
</li>
<li>
  <a href="#">
    <span class="sub-item">Integrations</span>
  </a>
</li>
<li>
  <a href="#">
    <span class="sub-item">Template</span>
  </a>
</li>
<li>
  <a href="#">
    <span class="sub-item">Notification</span>
  </a>
</li>
<li>
  <a href="#">
    <span class="sub-item">Taxes</span>
  </a>
</li>
</ul>
</div>
</li>
</ul> {% endcomment %}
<ul class="nav nav-secondary">

    <!-- DASHBOARD -->
    <li class="nav-item {% if page_title == 'dashboard' %}active{% endif %}">
        <a href="{% url 'ajserp:dashboard' %}" class="collapsed" aria-expanded="false">
            <i class="fas fa-home"></i>
            <p>Dashboard</p>
        </a>
    </li>

    <!-- MANAGE USERS (admin-only usually, so no permission check) -->
    <li class="nav-item {% if page_title == 'manage_users' %}active{% endif %}">
        <a href="{% url 'ajserp:manage_users' %}" class="collapsed" aria-expanded="false">
            <i class="fas fa-users-cog"></i>
            <p>Manage Users</p>
        </a>
    </li>

    <!-- SALES DASHBOARD (no permission check yet) -->
    <li class="nav-item {% if page_title == 'sales_dashboard' %}active{% endif %}">
        <a href="{% url 'ajserp:salesdashboard' %}" class="collapsed" aria-expanded="false">
            <i class="fas fa-chart-line"></i>
            <p>Sales Dashboard</p>
        </a>
    </li>

    <li class="nav-section">
        <span class="sidebar-mini-icon">
            <i class="fa fa-ellipsis-h"></i>
        </span>
        <h4 class="text-section">Company</h4>
    </li>

   
<!-- INVENTORY -->
<li class="nav-item {% if page_title == 'inventory' %}active{% endif %}">
    <a data-bs-toggle="collapse" href="#base">
        <i class="fas fa-layer-group"></i>
        <p>Inventory</p>
        <span class="caret"></span>
    </a>

    <div class="collapse" id="base">
        <ul class="nav nav-collapse">

            {% if "ALL" in user_permissions or "inventory__material__view" in user_permissions %}
            <li>
                <a href="{% url 'ajserp:material' %}">
                    <span class="sub-item">Material</span>
                </a>
            </li>
            {% endif %}

            {% if "ALL" in user_permissions or "inventory__material_inward__view" in user_permissions %}
            <li>
                <a href="{% url 'ajserp:materialinward' %}">
                    <span class="sub-item">Material Inward</span>
                </a>
            </li>
            {% endif %}

            {% if "ALL" in user_permissions or "inventory__warehouse__view" in user_permissions %}
            <li>
                <a href="{% url 'ajserp:warehouse' %}">
                    <span class="sub-item">Warehouses</span>
                </a>
            </li>
            {% endif %}

            {% if "ALL" in user_permissions or "inventory__price_list__view" in user_permissions %}
            <li>
                <a href="{% url 'ajserp:addpricelists' %}">
                    <span class="sub-item">Price List</span>
                </a>
            </li>
            {% endif %}

        </ul>
    </div>
</li>


<!-- PARTIES -->
<li class="nav-item">
    <a data-bs-toggle="collapse" href="#sidebarLayouts">
        <i class="fas fa-user-friends"></i>
        <p>Parties</p>
        <span class="caret"></span>
    </a>
    <div class="collapse" id="sidebarLayouts">
        <ul class="nav nav-collapse">

            {% if "ALL" in user_permissions or "parties__customer__view" in user_permissions %}
            <li>
                <a href="{% url 'ajserp:customers'%}">
                    <span class="sub-item">Customers</span>
                </a>
            </li>
            {% endif %}

            {% if "ALL" in user_permissions or "parties__supplier__view" in user_permissions %}
            <li>
                <a href="{% url 'ajserp:supliers'%}">
                    <span class="sub-item">Suppliers</span>
                </a>
            </li>
            {% endif %}

            {% if "ALL" in user_permissions or "parties__group__view" in user_permissions %}
            <li>
                <a href="{% url 'ajserp:addgroups'%}">
                    <span class="sub-item">Groups</span>
                </a>
            </li>
            {% endif %}

            <!-- Always visible -->
            {% comment %} <li>
                <a href="icon-menu.html">
                    <span class="sub-item">Visited</span>
                </a>
            </li> {% endcomment %}

        </ul>
    </div>
</li>


<!-- SALES -->
<li class="nav-item">
    <a data-bs-toggle="collapse" href="#forms">
        <i class="far fa-credit-card"></i>
        <p>Sales</p>
        <span class="caret"></span>
    </a>

    <div class="collapse" id="forms">
        <ul class="nav nav-collapse">

            {% if "ALL" in user_permissions or "sales__estimate__view" in user_permissions %}
            <li><a href="{% url 'ajserp:estimate'%}"><span class="sub-item">Estimates</span></a></li>
            {% endif %}

            {% if "ALL" in user_permissions or "sales__sales_order__view" in user_permissions %}
            <li><a href="{% url 'ajserp:salesorders'%}"><span class="sub-item">Sales Orders</span></a></li>
            {% endif %}

            {% if "ALL" in user_permissions or "sales__sales_invoice__view" in user_permissions %}
            <li><a href="{% url 'ajserp:salesinvoice'%}"><span class="sub-item">Sales Invoices</span></a></li>
            {% endif %}

            <!-- Always visible (no permissions set for these yet) -->
            {% comment %} <li><a href="{% url 'ajserp:deliverychallans'%}"><span class="sub-item">Delivery Challans</span></a></li>
            <li><a href="{% url 'ajserp:salesreturn'%}"><span class="sub-item">Sales Return</span></a></li>
            <li><a href="{% url 'ajserp:creditnote'%}"><span class="sub-item">Credit Note</span></a></li> {% endcomment %}

        </ul>
    </div>
</li>
  

 <!-- PURCHASE -->
<li class="nav-item">
    <a data-bs-toggle="collapse" href="#tables">
        <i class="fas fa-shopping-cart"></i>
        <p>Purchase</p>
        <span class="caret"></span>
    </a>

    <div class="collapse" id="tables">
        <ul class="nav nav-collapse">

            {% if "ALL" in user_permissions or "purchase__purchase_order__view" in user_permissions %}
            <li><a href="{% url 'ajserp:purchaseorder'%}"><span class="sub-item">Purchase Orders</span></a></li>
            {% endif %}

            {% comment %} {% if "ALL" in user_permissions or "purchase__purchase_return__view" in user_permissions %}
            <li><a href="{% url 'ajserp:purchasereturn'%}"><span class="sub-item">Purchase Return</span></a></li>
            {% endif %} {% endcomment %}

        </ul>
    </div>
</li>
   
<!-- FINANCE -->
<li class="nav-item">
    <a data-bs-toggle="collapse" href="#maps">
        <i class="fas fa-wallet"></i>
        <p>Finance</p>
        <span class="caret"></span>
    </a>

    <div class="collapse" id="maps">
        <ul class="nav nav-collapse">

            {% if "ALL" in user_permissions or "finance__expenses__view" in user_permissions %}
            <li><a href="{% url 'ajserp:expenses'%}"><span class="sub-item">Expenses</span></a></li>
            {% endif %}

            {% if "ALL" in user_permissions or "finance__receipt__view" in user_permissions %}
            <li><a href="{% url 'ajserp:receipts'%}"><span class="sub-item">Receipts</span></a></li>
            {% endif %}

            {% if "ALL" in user_permissions or "finance__payment__view" in user_permissions %}
            <li><a href="{% url 'ajserp:paymentout'%}"><span class="sub-item">Paymentout</span></a></li>
            {% endif %}

            {% if "ALL" in user_permissions or "finance__vendor_invoice__view" in user_permissions %}
            <li><a href="{% url 'ajserp:vendorinvoice'%}"><span class="sub-item">Vendorinvoice</span></a></li>
            {% endif %}

        </ul>
    </div>
</li>

  <!-- CLAIMS -->
<li class="nav-item">
    <a data-bs-toggle="collapse" href="#claim">
        <i class="fas fa-layer-group"></i>
        <p>Claims</p>
        <span class="caret"></span>
    </a>

    <div class="collapse" id="claim">
        <ul class="nav nav-collapse">

            {% if "ALL" in user_permissions or "claim__claim_request__view" in user_permissions %}
            <li><a href="{% url 'ajserp:claimrequest'%}"><span class="sub-item">Claim Request</span></a></li>
            {% endif %}

            {% if "ALL" in user_permissions or "claim__claim_approval__view" in user_permissions %}
            <li><a href="{% url 'ajserp:claimapproval'%}"><span class="sub-item">Claim Approval</span></a></li>
            {% endif %}

        </ul>
    </div>
</li>
 
  <!-- TAX MASTER -->
<li class="nav-item">
    <a data-bs-toggle="collapse" href="#taxmaster">
        <i class="fas fa-layer-group"></i>
        <p>Tax Master</p>
        <span class="caret"></span>
    </a>

    <div class="collapse" id="taxmaster">
        <ul class="nav nav-collapse">

            {% if "ALL" in user_permissions or "tax_master__tax_master_sub__view" in user_permissions %}
            <li><a href="{% url 'ajserp:taxmaster'%}"><span class="sub-item">Tax Masters</span></a></li>
            {% endif %}

        </ul>
    </div>
</li>
 

    
    
    <!-- Attendance (no permission control yet) -->
    <li class="nav-item">
        <a data-bs-toggle="collapse" href="#charts">
            <i class="fas fa-user-check"></i>
            <p>Attendance</p>
        </a>
    </li>

    <!-- Employee (no permission control yet) -->
    <li class="nav-item">
        <a href="{% url 'ajserp:employee'%}">
            <i class="fas fa-user-plus"></i>
            <p>Employee</p>
        </a>
    </li>

    <!-- Report (no permission control yet) -->
    <li class="nav-item">
        <a href="{% url 'ajserp:report'%}">
            <i class="fas fa-file"></i>
            <p>Report</p>
        </a>
    </li>

    <!-- Settings (no permission control yet) -->
    <li class="nav-item">
        <a data-bs-toggle="collapse" href="#submenu">
            <i class="fas fa-cog"></i>
            <p>Settings</p>
            <span class="caret"></span>
        </a>
        <div class="collapse" id="submenu">
            <ul class="nav nav-collapse">
                <li>
                    <a data-bs-toggle="collapse" href="#subnav1">
                        <span class="sub-item">Company Details</span>
                    </a>
                </li>
                <li>
                    <a data-bs-toggle="collapse" href="#subnav2">
                        <span class="sub-item">Mobile App</span>
                    </a>
                </li>
                <li>
                    <a data-bs-toggle="collapse" href="#subnav2">
                        <span class="sub-item">Contact</span>
                    </a>
                </li>
                {% comment %} <li>
                    <a href="#">
                        <span class="sub-item">Integrations</span>
                    </a>
                </li> {% endcomment %}
                <li>
                    <a href="#">
                        <span class="sub-item">Template</span>
                    </a>
                </li>
                {% comment %} <li>
                    <a href="#">
                        <span class="sub-item">Notification</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <span class="sub-item">Taxes</span>
                    </a>
                </li> {% endcomment %}
            </ul>
        </div>
    </li>

</ul>

</div>
</div>
</div>
<!-- End Sidebar -->